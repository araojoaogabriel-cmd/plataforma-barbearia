<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Felipe Lanes | Barbearia Premium</title>
  <style>
    :root {
      --bg-dark: #0b0b0b;
      --bg-card: #141414;
      --gold: #d4af37;
      --text-light: #f5f5f5;
      --border: #2a2a2a;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: Arial, Helvetica, sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      line-height: 1.6;
    }

    header {
      height: 80vh;
      background: linear-gradient(rgba(0,0,0,.7), rgba(0,0,0,.7)),
        url('https://images.unsplash.com/photo-1599351431202-1e0f0137899a') center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
    }

    header h1 {
      font-size: 3rem;
      color: var(--gold);
      letter-spacing: 2px;
    }

    header p {
      margin: 20px 0;
      color: #ccc;
      font-size: 1.2rem;
    }

    .btn {
      background: var(--gold);
      color: #000;
      padding: 15px 30px;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
    }

    section {
      padding: 80px 20px;
      max-width: 1100px;
      margin: auto;
    }

    h2 {
      text-align: center;
      color: var(--gold);
      margin-bottom: 50px;
      font-size: 2.2rem;
    }

    .services {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
    }

    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
    }

    .card h3 { margin-bottom: 15px; }
    .price { color: var(--gold); font-size: 1.3rem; }

    .booking {
      background: #101010;
      border-radius: 20px;
      padding: 40px;
      max-width: 500px;
      margin: auto;
    }

    label { display: block; margin: 15px 0 5px; }

    input, select {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text-light);
    }

    .payment {
      margin-top: 20px;
      background: var(--bg-card);
      padding: 20px;
      border-radius: 15px;
      border: 1px solid var(--border);
    }

    .contact {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
    }

    footer {
      border-top: 1px solid var(--border);
      text-align: center;
      padding: 20px;
      color: #888;
    }
  </style>
</head>
<body>

<header>
  <div>
    <h1>Felipe Lanes</h1>
    <p>Barbearia  ‚Äî estilo cl√°ssico e atendimento exclusivo</p>
    <button class="btn" onclick="document.getElementById('agenda').scrollIntoView()">Agendar Hor√°rio</button>
  </div>
</header>

<section>
  <h2>Servi√ßos</h2>
  <div class="services">
    <div class="card"><h3>Corte Cl√°ssico</h3><p class="price">R$ 40</p></div>
    <div class="card"><h3>Barba Premium</h3><p class="price">R$ 35</p></div>
    <div class="card"><h3>Corte + Barba</h3><p class="price">R$ 70</p></div>
  </div>
</section>

<section id="agenda">
  <h2>Agendamento</h2>
  <div class="booking">
    <label>Escolha o servi√ßo</label>
    <select id="service">
      <option value="40">Corte Cl√°ssico ‚Äî R$ 40</option>
      <option value="35">Barba Premium ‚Äî R$ 35</option>
      <option value="70">Corte + Barba ‚Äî R$ 70</option>
    </select>
    <label>Escolha a data</label>
    <input type="date" id="date" />

    <label>Hor√°rio dispon√≠vel</label>
    <select id="time"></select>
    <small style="color:#aaa">Hor√°rios indispon√≠veis s√£o removidos automaticamente</small>

    <div class="payment">
      <strong>Pagamento via Pix</strong>
      <p>Valor do servi√ßo: <span id="valor">R$ 40</span></p>
      <canvas id="qrcode"></canvas>
      <p style="font-size:14px;color:#aaa;margin-top:10px">Escaneie o QR Code para pagar</p>
      <button class="btn" onclick="confirmarPagamento()">J√° paguei</button>
    </div>
  </div>
</section>

<section>
  <h2>Contato & Localiza√ß√£o</h2>
  <div class="contact">
    <div>
      <p>üìû (22) 98875-9091</p>
      <p>üìç Rua Exemplo, 123 - Centro</p>
    </div>
    <iframe width="100%" height="250" style="border-radius:15px; border:1px solid var(--border)"
      src="https://www.google.com/maps?q=S√£o%20Paulo&output=embed"></iframe>
  </div>
</section>

<footer>
  ¬© 2026 Barbearia Premium - Todos os direitos reservados
</footer>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  // üî• CONFIGURA√á√ÉO FIREBASE (SUBSTITUA PELOS SEUS DADOS)
  const firebaseConfig = {
    apiKey: "SUA_API_KEY",
    authDomain: "SEU_PROJETO.firebaseapp.com",
    projectId: "SEU_PROJETO",
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const horariosBase = ['09:00','10:00','11:00','14:00','15:00','16:00'];
  const dateInput = document.getElementById('date');
  const timeSelect = document.getElementById('time');
  const serviceSelect = document.getElementById('service');
  const valorSpan = document.getElementById('valor');

  serviceSelect.addEventListener('change', () => {
    valorSpan.textContent = `R$ ${serviceSelect.value}`;
    gerarPix();
  });

  async function atualizarHorarios() {
    timeSelect.innerHTML = '';
    const data = dateInput.value;
    if (!data) return;

    const snapshot = await db.collection('agendamentos').where('data', '==', data).get();
    const ocupados = snapshot.docs.map(d => d.data().hora);

    horariosBase.forEach(h => {
      if (!ocupados.includes(h)) {
        const opt = document.createElement('option');
        opt.textContent = h;
        timeSelect.appendChild(opt);
      }
    });

    gerarPix();
  }

  dateInput.addEventListener('change', atualizarHorarios);

  function gerarPix() {
    const data = dateInput.value;
    const hora = timeSelect.value;
    const valor = serviceSelect.value;
    if (!data || !hora) return;

    const payload = `PIX FELIPE LANES | ${data} ${hora} | R$ ${valor}`;
    QRCode.toCanvas(document.getElementById('qrcode'), payload, { width: 180 });
  }

  timeSelect.addEventListener('change', gerarPix);

  async function confirmarPagamento() {
    const data = dateInput.value;
    const hora = timeSelect.value;
    const servico = serviceSelect.options[serviceSelect.selectedIndex].text;
    const valor = serviceSelect.value;

    if (!data || !hora) {
      alert('Selecione data e hor√°rio');
      return;
    }

    await db.collection('agendamentos').add({
      data,
      hora,
      servico,
      valor,
      criadoEm: new Date()
    });

    const msg = `Ol√°! J√° paguei via Pix e confirmo meu hor√°rio.
Servi√ßo: ${servico}
Data: ${data}
Hora: ${hora}
Valor: R$ ${valor}.`;
    window.open(`https://wa.me/5522988759091?text=${encodeURIComponent(msg)}`, '_blank');

    alert('Pagamento confirmado! Hor√°rio bloqueado.');
    atualizarHorarios();
  }
</script>

